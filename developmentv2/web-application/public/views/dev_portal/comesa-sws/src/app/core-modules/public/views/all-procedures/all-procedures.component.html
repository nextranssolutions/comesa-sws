<div class="container-fluid row div-home">
    <div class="col-lg-12 border-linemargin">
        <h6 class="text-start">{{'all_procedures' | translate}}</h6>

        <form role="form" enctype="multipart/form-data" role="form" [formGroup]="searchProcedureFrm"
            (ngSubmit)="onGetFilteredData()">
            <dx-tab-panel id="experts Search" [(selectedIndex)]="selectedTabIndex"
                (onTitleClick)="funcProcedureClick($event)" [iconPosition]="iconPosition" [swipeEnabled]="false"
                [showNavButtons]="true" [animationEnabled]="true">

                <!-- Access Levels Tab -->

                <dxi-item title="{{'search_by_product' | translate}}" icon="map">
                    <div class="form-group has-search margin-top">

                        <dx-select-box [dataSource]="productChapterData" class="form-control"
                            placeholder="{{'select_product' | translate}}"
                            formControlName="hscodechapters" [showClearButton]="true" valueExpr="id"
                            [searchEnabled]="true" displayExpr="name">
                        </dx-select-box>
                       
                    </div>
                    <div class="col-lg-12 btn-searchdetails">
                        <dx-button text="{{'search_by_product' | translate}}" type="default"
                            icon="fa fa-search" [elementAttr]="{  class: 'btn-searchdetails' }"
                            (onClick)="onGetFilteredData()">
                        </dx-button>

                    </div>

                </dxi-item>

                <dxi-item title="{{'search_by_product_category' | translate}}" icon="map">
                    <div class="form-group has-search margin-top">

                        <dx-select-box [dataSource]="productCategoryData" class="form-control"
                            placeholder="{{'search_by_product_category' | translate}}"
                            formControlName="hscodesheading" [showClearButton]="true" valueExpr="id"
                            [searchEnabled]="true" displayExpr="name">
                        </dx-select-box>
                       
                    </div>
                    <div class="col-lg-12 btn-searchdetails">
                        <dx-button text="{{'search_by_product_category' | translate}}" type="default"
                            icon="fa fa-search" [elementAttr]="{  class: 'btn-searchdetails' }"
                            (onClick)="onGetFilteredData()">
                        </dx-button>

                    </div>

                </dxi-item>

                <dxi-item title="{{'search_by_product_subcategory' | translate}}" icon="map">
                    <div class="form-group has-search margin-top">

                        <dx-select-box [dataSource]="productSubcategoryData" class="form-control"
                            placeholder="{{'search_by_product_subcategory' | translate}}"
                            formControlName="hscodessubheading" [showClearButton]="true" valueExpr="id"
                            [searchEnabled]="true" displayExpr="name">
                        </dx-select-box>
                       
                    </div>
                    <div class="col-lg-12 btn-searchdetails">
                        <dx-button text="{{'search_by_product_subcategory' | translate}}" type="default"
                            icon="fa fa-search" [elementAttr]="{  class: 'btn-searchdetails' }"
                            (onClick)="onGetFilteredData()">
                        </dx-button>

                    </div>

                </dxi-item>
            </dx-tab-panel>
        </form>

        <dx-data-grid (onExporting)="onExporting($event)" (onCellPrepared)="onCellPrepared($event)"
            class="table row-border hover" [dataSource]="transitProcedureData" [remoteOperations]='true'
            [showBorders]="true" [allowColumnResizing]="true" [columnHidingEnabled]="true" [wordWrapEnabled]="true"
            keyExpr="id" (onToolbarPreparing)="onAdvanceSearch($event)">

            <dxo-filter-row [visible]="show_advancesearch"></dxo-filter-row>
            <dxo-search-panel [visible]="true">
            </dxo-search-panel>
            <dxo-paging [enabled]="true">
            </dxo-paging>
            <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)" [showPageSizeSelector]="true"
                [allowedPageSizes]="[50,100,200]">
            </dxo-pager>
            <dxo-export [enabled]="true" [fileName]="'records' | translate" [formats]="['pdf', 'xlsx']"
                [allowExportSelectedData]="true">
            </dxo-export>

            <dxo-selection mode="multiple"></dxo-selection>
            <dxo-group-panel [visible]="true"></dxo-group-panel>

            <dxi-column dataField="id" caption="{{'id' | translate}}" [visible]="false"></dxi-column>
            <dxi-column [groupIndex]="0" dataField="operation_type" caption="{{ 'operation_type' | translate }}">
            </dxi-column>
            <dxi-column [groupIndex]="0" dataField="hscodechapters" caption="{{ 'product' | translate }}">
            </dxi-column>
            <dxi-column dataField="hscodesheading" caption="{{'product_category' | translate}}"></dxi-column>

            <dxi-column dataField="hscodessubheading" caption="{{'product_subcategory' | translate}}"></dxi-column>
            <dxi-column dataField="procedure_categories" caption="{{'procedure_categories' | translate}}"></dxi-column>

            <dxi-column dataField="procedure_subcategories"
                caption="{{'procedure_subcategories' | translate}}"></dxi-column>


            <dxi-column dataField="procedure_description"
                caption="{{'procedure_description' | translate}}"></dxi-column>

            <dxi-column dataField="organisation" caption="{{'organisation' | translate}}"></dxi-column>

            <dxo-paging [pageSize]="200"></dxo-paging>
        </dx-data-grid>
    </div>
</div>

<dx-load-panel #loadPanel shadingColor="rgba(0,0,0,0.4)" [position]="{ of: '#employee' }" [(visible)]="loadingVisible"
    [showIndicator]="true" [showPane]="true" [shading]="true" [message]="spinnerMessage" [hideOnOutsideClick]="false">
</dx-load-panel>