<div class="page-header">
    <h1>{{'draft_applications' | translate}} </h1>
</div>
<!-- <div class="row">
    <div class="col-xs-12">
        <div class="sidebar h-sidebar navbar-collapse ace-save-state">
            <ul class="nav nav-list">
                <li class="link-bggreen">
                    <a (click)="onInitiatenewImportExpApplications()" href="javascript:void(0)"><span class=""> <i
                                class="menu-icon fa fa-plus"></i> &nbsp; {{'initiate_importexport_application'
                            |translate}}</span>
                    </a> <b class="arrow"></b>
                </li>
                <li class="link-bgorange">
                    <a href="javascript:void(0)"><span class=""> <i class="menu-icon fa fa-money"></i> &nbsp;
                            {{'fees_and_charges' | translate}}</span></a>
                    <b class="arrow"></b>
                </li>
                <li class="link-bgblue">
                    <a href="javascript:void(0)"><span class=""> <i class="menu-icon fa fa-money"></i>
                            &nbsp;{{'processflow_and_servicedelivery' | translate}}</span> </a>
                    <b class="arrow"></b>
                </li>
                <li class="link-bgcyan">
                    <a href="javascript:void(0)"><span class=""> <i class="menu-icon fa fa-book"></i>
                            &nbsp;{{'tracking_application' | translate}}</span>
                    </a><b class="arrow"></b>
                </li>
                <li class="spacer"></li>
                <li class="link-bggray">
                    <a href="javascript:void(0)"><span> <i class="menu-icon fa fa-book"></i>&nbsp;{{'manual' |
                            translate}}</span></a>
                </li>
                <li class="link-bgyellow">
                    <a href="javascript:void(0)"><span><i class="menu-icon fa fa-book"></i>&nbsp;{{'faqs' |
                            translate}}</span></a>
                </li>

            </ul>
        </div>

    </div>
</div> -->


<!-- <div class="col-lg-12 div-backwhite no-padding"> -->


    <!-- <form role="form" enctype="multipart/form-data" [formGroup]="filtersFrm"
    (ngSubmit)="onFuncSaveFiltersData()">
      <div class="row">
        <div class="col-lg-2">
            <label>{{ 'received_from' | translate }}</label>
            <dx-date-box formControlName="received_from" [showClearButton]="true">
            </dx-date-box>
        </div>
        <div class="col-lg-2">
            <label>{{ 'received_to' | translate }}</label>
            <dx-date-box formControlName="received_to" [showClearButton]="true"> 
            </dx-date-box>
        </div>
       
       
        <div class="col-lg-2">
            <label>{{ 'approved_from' | translate }}</label>
            <dx-date-box formControlName="approved_from" [showClearButton]="true">
            </dx-date-box>
        </div>
        <div class="col-lg-2">
            <label>{{ 'approved_to' | translate }}</label>
            <dx-date-box formControlName="approved_to" [showClearButton]="true"> 
            </dx-date-box>
        </div>
        <div class="col-lg-2">
        <dx-button text="{{ 'filter' | translate }}" type="default"
             icon="fa fa-save" [elementAttr]="{ id: 'elementId', class: 'pull-right' }"
              (onClick)="onFuncSaveFiltersData()">
        </dx-button>
        </div>
      </div>
    </form>  -->

    <form role="form" enctype="multipart/form-data" [formGroup]="filtersFrm"
    (ngSubmit)="onFuncSaveFiltersData()">
    <div class="row">
        <!-- Received Dates Section -->
        <div class="col-lg-5">
            <div class="row">
                <div class="col-lg-6">
                    <label>{{ 'received_from' | translate }}</label>
                    <dx-date-box formControlName="received_from" [showClearButton]="true">
                    </dx-date-box>
                </div>
                <div class="col-lg-6">
                    <label>{{ 'received_to' | translate }}</label>
                    <dx-date-box formControlName="received_to" [showClearButton]="true"> 
                    </dx-date-box>
                </div>
            </div>
        </div>

        <!-- Approved Dates Section -->
        <div class="col-lg-5">
            <div class="row">
                <div class="col-lg-6">
                    <label>{{ 'approved_from' | translate }}</label>
                    <dx-date-box formControlName="approved_from" [showClearButton]="true">
                    </dx-date-box>
                </div>
                <div class="col-lg-6">
                    <label>{{ 'approved_to' | translate }}</label>
                    <dx-date-box formControlName="approved_to" [showClearButton]="true"> 
                    </dx-date-box>
                </div>
            </div>
        </div>

        <!-- Filter Button -->
        <div class="col-lg-2 d-flex align-items-end">
            <dx-button text="{{ 'filter_applications' | translate }}" type="default"
                icon="fa fa-filter" [elementAttr]="{ id: 'elementId', class: 'pull-right' }"
                (onClick)="onFuncSaveFiltersData()">
            </dx-button>
        </div>
    </div>
</form>




    <section class="content">
    <div class="container-fluid">
     <div class="flex-container">
      <div class="column-selector" >
        <div class="column-header" >{{ 'select_visible_columns' | translate }}</div><br>            
          <div>     
         
          <!-- <div class="dx-fieldset"> -->
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.application_reference"></dx-check-box>
                <div class="dx-field-label">{{ 'application_reference' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.permit_type"></dx-check-box>
                <div class="dx-field-label">{{ 'permit_type' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.date_of_application"></dx-check-box>
                <div class="dx-field-label">{{ 'date_of_application' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.invoice_number"></dx-check-box>
                <div class="dx-field-label">{{ 'invoice_number' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.invoice_date"></dx-check-box>
                <div class="dx-field-label">{{ 'invoice_date' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.total_invoice_value"></dx-check-box>
                <div class="dx-field-label">{{ 'total_invoice_value' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.currency_of_transaction"></dx-check-box>
                <div class="dx-field-label">{{ 'currency_of_transaction' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.importer_exporter_name"></dx-check-box>
                <div class="dx-field-label">{{ 'importer_exporter_name' | translate }}</div>
            </div>
            <div class="dx-field">
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.date_added"></dx-check-box>
                <div class="dx-field-label">{{ 'date_added' | translate }}</div>
            </div>
            <div class="dx-field">
                <!-- <div class="dx-field-value"> -->
                    <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.application_status"></dx-check-box>
                <!-- </div> -->
                <div class="dx-field-label">{{ 'application_status' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.expected_date_of_shipment"></dx-check-box>
            <div class="dx-field-label">{{ 'expected_date_of_shipment' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.port_of_entryexit"></dx-check-box>
            <div class="dx-field-label">{{ 'port_of_entryexit' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.mode_of_transport"></dx-check-box>
            <div class="dx-field-label">{{ 'mode_of_transport' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.transpoter_name"></dx-check-box>
            <div class="dx-field-label">{{ 'transpoter_name' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.transporter_contact"></dx-check-box>
            <div class="dx-field-label">{{ 'transporter_contact' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.invoice_type"></dx-check-box>
            <div class="dx-field-label">{{ 'invoice_type' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.regulatory_function"></dx-check-box>
            <div class="dx-field-label">{{ 'regulatory_function' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.regulatory_subfunction"></dx-check-box>
            <div class="dx-field-label">{{ 'regulatory_subfunction' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.transporter_country"></dx-check-box>
            <div class="dx-field-label">{{ 'transporter_country' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.zone"></dx-check-box>
            <div class="dx-field-label">{{ 'zone' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.final_destination_country"></dx-check-box>
            <div class="dx-field-label">{{ 'final_destination_country' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.currency_oftransaction"></dx-check-box>
            <div class="dx-field-label">{{ 'currency_oftransaction' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.port_type"></dx-check-box>
            <div class="dx-field-label">{{ 'port_type' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.appworkflow_status"></dx-check-box>
            <div class="dx-field-label">{{ 'appworkflow_status' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.declaration_statuses"></dx-check-box>
            <div class="dx-field-label">{{ 'declaration_statuses' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.applicationsubmission_type"></dx-check-box>
            <div class="dx-field-label">{{ 'applicationsubmission_type' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.workflowprocess"></dx-check-box>
            <div class="dx-field-label">{{ 'workflowprocess' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.applicant"></dx-check-box>
            <div class="dx-field-label">{{ 'applicant' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.applicationapplicant_option"></dx-check-box>
            <div class="dx-field-label">{{ 'applicationapplicant_option' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.customs_office"></dx-check-box>
            <div class="dx-field-label">{{ 'customs_office' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.permit_typecategory"></dx-check-box>
            <div class="dx-field-label">{{ 'permit_typecategory' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.transactionpermit_type"></dx-check-box>
            <div class="dx-field-label">{{ 'transactionpermit_type' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.organisation"></dx-check-box>
            <div class="dx-field-label">{{ 'competent_authority' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.oga_application_code"></dx-check-box>
            <div class="dx-field-label">{{ 'oga_application_code' | translate }}</div>
            </div>
            <div class="dx-field">
                <dx-check-box [value]="true" [elementAttr]="{ 'aria-label': 'Checked' }" [(ngModel)]="columnVisibility.application_code"></dx-check-box>
            <div class="dx-field-label">{{ 'application_code' | translate }}</div>
            </div>
            

        <!-- </div> -->
          
          
        
         
        </div> 
       </div>
       <div class="grid-container">
        <dx-data-grid class="table row-border hover " (onCellPrepared)="onCellPrepared($event)" [showRowLines]="true"
            [allowColumnResizing]="true" [columnHidingEnabled]="false" [wordWrapEnabled]="true"
            [dataSource]="dtImportExpApplicationData" [showBorders]="true" keyExpr="id" [width]="'100%'"
            [columnAutoWidth]="false" [columnMinWidth]="150"
            [scrolling]="{ mode: 'standard', useNative: true, showScrollbar: 'always' }" [height]="'1000px'">
        
        <dxo-filter-row [visible]="true"></dxo-filter-row>
        <dxo-load-panel [enabled]="true">
        </dxo-load-panel>
    
        <dxo-paging [enabled]="true">
        </dxo-paging>
        <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[10, 20]" [showNavigationButtons]="true"
            [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
        </dxo-pager>
        <dxo-search-panel [visible]="true">
        </dxo-search-panel>
        <dxo-export [enabled]="true" fileName="ImportExport" [allowExportSelectedData]="true"></dxo-export>

        <dxo-selection mode="single"></dxo-selection>
        <!-- <dxi-column [width]=200 caption="{{'actions' | translate}}" name="command-editing" [allowFiltering]="false"
            [allowSorting]="false" cellTemplate="cellTemplateSingle">
            <div *dxTemplate="let d of 'cellTemplateSingle'">
                <dx-button text="{{d.data.action_name}}" (click)="singleApplicationActionColClick(d.data)"
                    type="success" icon="{{d.data.iconCls}}">
                </dx-button>
            </div>
        </dxi-column> -->
        
        <dxi-column caption="{{'more_actions' | translate}}" [width]=150 name="command-editing" [allowFiltering]="false"
        [allowSorting]="false" cellTemplate="cellTemplate">
        <div *dxTemplate="let d of 'cellTemplate'">
            <!-- <dx-menu [items]="d.data.contextMenu" displayExpr="text"
                (onItemClick)="applicationActionColClick($event,d)">
            </dx-menu> -->
            <dx-menu (onItemClick)="applicationActionColClick($event,d)" [items]="actionsMenuItems"></dx-menu>
        </div>
    </dxi-column>

        <dxi-column dataField="reference_no" caption="{{'application_reference' | translate}}"*ngIf="columnVisibility.application_reference"></dxi-column>
        <dxi-column [width]=90 [groupIndex]="0" dataField="permit_name"
            caption="{{'permit_type' | translate}}" *ngIf="columnVisibility.permit_type"></dxi-column>
        <dxi-column [width]=100 dataField="date_of_application"
            caption="{{'date_of_application' | translate}}" *ngIf="columnVisibility.date_of_application"></dxi-column>

        <dxi-column [width]=100 dataField="invoice_number" caption="{{'invoice_number' | translate}}"*ngIf="columnVisibility.invoice_number"></dxi-column>
        <dxi-column dataField="invoice_date" caption="{{'invoice_date' | translate}}"*ngIf="columnVisibility.invoice_date"></dxi-column>
        <dxi-column dataField="total_invoice_value" caption="{{'total_invoice_value' | translate}}"*ngIf="columnVisibility.total_invoice_value"></dxi-column>
        <dxi-column dataField="currency_name" caption="{{'currency_of_transaction' | translate}}"*ngIf="columnVisibility.currency_of_transaction"></dxi-column>
        <dxi-column dataField="importer_exporter_name" caption="{{'importer_exporter_name' | translate}}"*ngIf="columnVisibility.importer_exporter_name"></dxi-column>
        <dxi-column [width]=100 [allowFiltering]="false" dataField="date_added" caption="{{'date_added' | translate}}"*ngIf="columnVisibility.date_added"></dxi-column>
        <!-- <dxi-column [groupIndex]="1" dataField="status_name" caption="{{'status_name' | translate}}"></dxi-column> -->
        <dxi-column dataField="status_name" caption="{{'application_status' | translate}}"*ngIf="columnVisibility.application_status"></dxi-column>
        <dxi-column dataField="expected_date_of_shipment" caption="{{'expected_date_of_shipment' | translate}}"*ngIf="columnVisibility.expected_date_of_shipment"></dxi-column>

        <dxi-column dataField="port_of_entry" caption="{{'port_of_entryexit' | translate}}"*ngIf="columnVisibility.port_of_entryexit"></dxi-column>
        <dxi-column dataField="mode_of_transport" caption="{{'mode_of_transport' | translate}}"*ngIf="columnVisibility.mode_of_transport"></dxi-column>
        <dxi-column dataField="transpoter_name" caption="{{'transpoter_name' | translate}}"*ngIf="columnVisibility.transpoter_name"></dxi-column>
        <dxi-column dataField="transporter_contact" caption="{{'transporter_contact' | translate}}"*ngIf="columnVisibility.transporter_contact"></dxi-column>
        <dxi-column dataField="invoice_type" caption="{{'invoice_type' | translate}}"*ngIf="columnVisibility.invoice_type"></dxi-column>
        <dxi-column dataField="regulatory_function" caption="{{'regulatory_function' | translate}}"*ngIf="columnVisibility.regulatory_function"></dxi-column>
        <dxi-column dataField="regulatory_subfunction_id" caption="{{'regulatory_subfunction' | translate}}"*ngIf="columnVisibility.regulatory_subfunction"></dxi-column>
        <dxi-column dataField="final_destination_country" caption="{{'transporter_country' | translate}}"*ngIf="columnVisibility.transporter_country"></dxi-column>
        <dxi-column dataField="zone" caption="{{'zone' | translate}}"*ngIf="columnVisibility.zone"></dxi-column>
        <dxi-column dataField="final_destination_country" caption="{{'final_destination_country' | translate}}"*ngIf="columnVisibility.final_destination_country"></dxi-column>
        <dxi-column dataField="currency_name" caption="{{'currency_oftransaction' | translate}}"*ngIf="columnVisibility.currency_oftransaction"></dxi-column>
        <dxi-column dataField="port_type" caption="{{'port_type' | translate}}"*ngIf="columnVisibility.port_type"></dxi-column>
        <dxi-column dataField="workflow_status" caption="{{'appworkflow_status' | translate}}"*ngIf="columnVisibility.appworkflow_status"></dxi-column>
        <dxi-column dataField="declaration" caption="{{'declaration_statuses' | translate}}"*ngIf="columnVisibility.declaration_statuses"></dxi-column>
        <dxi-column dataField="applicationsubmission_type" caption="{{'applicationsubmission_type' | translate}}"*ngIf="columnVisibility.applicationsubmission_type"></dxi-column>
        <dxi-column dataField="workflowprocess" caption="{{'workflowprocess' | translate}}"*ngIf="columnVisibility.workflowprocess"></dxi-column>
        <dxi-column dataField="applicant_name" caption="{{'applicant' | translate}}"*ngIf="columnVisibility.applicant"></dxi-column>
        <dxi-column dataField="application_option" caption="{{'applicationapplicant_option' | translate}}"*ngIf="columnVisibility.applicationapplicant_option"></dxi-column>
        <dxi-column dataField="customs_office" caption="{{'customs_office' | translate}}"*ngIf="columnVisibility.customs_office"></dxi-column>
        <dxi-column dataField="permit_typecategory" caption="{{'permit_typecategory' | translate}}"*ngIf="columnVisibility.permit_typecategory"></dxi-column>
        <dxi-column dataField="transactionpermit_type" caption="{{'transactionpermit_type' | translate}}"*ngIf="columnVisibility.transactionpermit_type"></dxi-column>
        <dxi-column dataField="organisation" caption="{{'competent_authority' | translate}}"*ngIf="columnVisibility.organisation"></dxi-column>
        <dxi-column dataField="oga_application_code" caption="{{'oga_application_code' | translate}}"*ngIf="columnVisibility.oga_application_code"></dxi-column>
        <dxi-column dataField="application_code" caption="{{'application_code' | translate}}"*ngIf="columnVisibility.application_code"></dxi-column>
        <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>
        </dx-data-grid>
      </div>
     </div>
    </div>
   </section>

<!-- </div> -->

<dx-load-panel #loadPanel shadingColor="rgba(0,0,0,0.4)" [position]="{ of: '#employee' }" [(visible)]="loadingVisible"
    [showIndicator]="true" [showPane]="true" [shading]="true" [message]="spinnerMessage" [hideOnOutsideClick]="false">
</dx-load-panel>


<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="450" [showTitle]="true"
    title="Preview  Application Processing" [dragEnabled]="false" [hideOnOutsideClick]="true"
    [(visible)]="isPreviewApplicationProcessing">

    <div *dxTemplate="let data of 'content'" style="background:#fff;">
        <div class="row">
            <dx-data-grid class="table row-border hover div-backwhite" [columnHidingEnabled]="true"
                [dataSource]="productApplicationProcessingData" [showBorders]="true" [allowColumnResizing]="true"
                keyExpr="id">
                <dxo-filter-row [visible]="false"></dxo-filter-row>
                <dxo-load-panel [enabled]="true">
                </dxo-load-panel>
                <dxo-paging [enabled]="true">
                    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)" [showPageSizeSelector]="true"
                      [allowedPageSizes]="[20,50,100]"></dxo-pager>
                  </dxo-paging>
                <dxo-search-panel [visible]="true">
                </dxo-search-panel>
                <dxo-export [enabled]="true" fileName="ProductApplications"
                    [allowExportSelectedData]="true"></dxo-export>

                <dxo-selection mode="single"></dxo-selection>
                <dxi-column dataField="tracking_no" caption="{{'tracking_no' | translate}}"></dxi-column>
                <dxi-column dataField="reference_no" caption="{{'reference_no' | translate}}"></dxi-column>
                <dxi-column dataField="process_name" caption="{{'process_name' | translate}}"></dxi-column>
                <dxi-column dataField="prev_stage" caption="{{'prev_stage' | translate}}"></dxi-column>
                <dxi-column dataField="current_stage" caption="{{'current_stage' | translate}}"></dxi-column>
                <dxi-column [groupIndex]="0" dataField="processing_date"
                    caption="{{'processing_date' | translate}}"></dxi-column>

                <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>
                <!-- <dxo-group-panel [visible]="true"></dxo-group-panel> -->
                <dxo-paging [pageSize]="10"></dxo-paging>
            </dx-data-grid>
        </div>
    </div>
</dx-popup>


<dx-popup class="popup" [width]="funcpopWidth(40)" [height]="500" [showTitle]="true" title="Preview Application Details"
    [dragEnabled]="false" [hideOnOutsideClick]="true" [(visible)]="isPreviewApplicationDetails">
    <div *dxTemplate="let data of 'content'" style="background:#fff;">
        <dx-scroll-view>
            <form role="form" class="col-lg-12" enctype="multipart/form-data" role="form"
                [formGroup]="frmPreviewAppDetails">
                <div class="row">
                    <div class="col-lg-12">
                        <label class="control-label">{{'reference_no' | translate}}</label>
                        <dx-text-box formControlName="reference_no" [readOnly]=true [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-6">
                        <label class="control-label">{{'invoice_no' | translate}}</label>
                        <dx-text-box formControlName="proforma_invoice_no" placeholder="" [readOnly]=true
                            [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-6 ">
                        <label for="ti" class="control-label">{{'invoice_date' | translate}}</label>

                        <dx-text-box formControlName="proforma_invoice_date" [readOnly]=true [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-6 ">
                        <label for="ti" class="control-label">{{'sender_receiver' | translate}}</label>

                        <dx-text-box formControlName="sender_receiver" [readOnly]=true [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-6 ">
                        <label for="ti" class="control-label">{{'premises_name' | translate}}</label>

                        <dx-text-box formControlName="premises_name" [readOnly]=true [showClearButton]="true">
                        </dx-text-box>
                    </div>

                    <div class="col-lg-6">
                        <label class="control-label">{{'application_type' | translate}}</label>

                        <dx-text-box formControlName="application_type" [readOnly]=true placeholder=""
                            [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-6">
                        <label class="control-label">{{'current_status' | translate}}</label>

                        <dx-text-box formControlName="status" [readOnly]=true [showClearButton]="true">
                        </dx-text-box>
                    </div>
                </div>
            </form>
            <div class="row wizard-content col-lg-12">
                <dx-data-grid [dataSource]="permitProductsData" [allowColumnResizing]="true"
                    [columnHidingEnabled]="false" [showBorders]="true">
                    <dxo-filter-row [visible]="false"></dxo-filter-row>
                    <dxo-search-panel [visible]="true">
                    </dxo-search-panel>
                    <dxo-paging [enabled]="true">
                    </dxo-paging>
                    <dxo-selection mode="single"></dxo-selection>

                    <dxi-column dataField="brand_name" caption="{{'brand_name_product_name' | translate}}"></dxi-column>
                    <dxi-column dataField="product_type" caption="{{'product_type' | translate}}"></dxi-column>
                    <dxi-column dataField="product_subcategory"
                        caption="{{'product_subcategory' | translate}}"></dxi-column>
                    <dxi-column dataField="quantity" caption="{{'quantity' | translate}}"></dxi-column>
                    <dxi-column dataField="packaging_units" caption="{{'packaging_units' | translate}}"></dxi-column>
                    <dxi-column dataField="currency_name" caption="{{'currency_name' | translate}}"></dxi-column>
                    <dxi-column dataField="unit_price" caption="{{'unit_price' | translate}}"></dxi-column>
                    <dxi-column dataField="total_value" caption="{{'total_value' | translate}}"></dxi-column>
                    <dxo-paging [enabled]="true">
                    </dxo-paging>

                    <dxo-summary>

                        <dxi-total-item column="total_value" summaryType="sum">
                        </dxi-total-item>
                    </dxo-summary>
                    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
                    </dxo-pager>
                    <dxo-export [enabled]="true" fileName="permitProducts"
                        [allowExportSelectedData]="true"></dxo-export>
                </dx-data-grid>
            </div>
        </dx-scroll-view>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="550" [showTitle]="true"
    title="Application Rejection Details" [dragEnabled]="false" [hideOnOutsideClick]="true"
    [(visible)]="isApplicationRejectionVisible">
    <div *dxTemplate="let data of 'content'">
        <dx-data-grid class="table row-border hover " [columnHidingEnabled]="true"
            [dataSource]="applicationRejectionData" [showBorders]="true">
            <dxo-filter-row [visible]="false"></dxo-filter-row>
            <dxo-load-panel [enabled]="true">
            </dxo-load-panel>
            <dxo-paging [enabled]="true">
            </dxo-paging>
            <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[10, 20]" [showNavigationButtons]="true"
                [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
            </dxo-pager>
            <dxo-search-panel [visible]="true">
            </dxo-search-panel>
            <dxo-export [enabled]="true" fileName="Rejection Details" [allowExportSelectedData]="true"></dxo-export>

            <dxi-column [width]=100 dataField="tracking_no" caption="{{'tracking_no' | translate}}"></dxi-column>
            <dxi-column [width]=90 dataField="added_on" caption="{{'added_on' | translate}}"></dxi-column>
            <dxi-column [width]=200 cssClass='WrappedColumnClass' dataField="rejection_remarks"
                caption="{{'rejection_remarks' | translate}}"></dxi-column>
        </dx-data-grid>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="1050" [height]="700" [showTitle]="true" title="{{printReportTitle}}"
    [dragEnabled]="false" [hideOnOutsideClick]="true" [(visible)]="isPrintReportVisible">
    <div *dxTemplate="let data of 'content'">
        <div class="col-lg-12" [innerHTML]="printiframeUrl | safe: 'html'"></div>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(45)" [height]="funcpopHeight(45)" [showTitle]="true"
    title="Import License Application" [dragEnabled]="false" [hideOnOutsideClick]="false"
    [(visible)]="isPermitInitialisation">
    <div *dxTemplate="let data of 'content'">
        <dx-scroll-view>
            <form enctype="multipart/form-data" style="margin:0.5px" class="row div-whiteback " role="form"
                [formGroup]="applicationSelectionfrm" (ngSubmit)="onApplicationSelection()">
                <div class="col-lg-12">
                    <h6>{{'permit_type_selection_description' | translate}}</h6>
                </div>
                <div class="col-lg-12">
                    <label>{{'permit_type' | translate}}</label>
                    <dx-select-box [dataSource]="permitTypesData" valueExpr="id" displayExpr="name"
                        placeholder="{{'select_permit_type' | translate}}" [searchEnabled]="true"
                        formControlName="transactionpermit_type_id">
                    </dx-select-box>
                </div>
                <div class="col-lg-12  pull-right row" style="text-align: center;">

                    <dx-button icon="fa fa-arrow-right" text="{{'initiate_permit_application' | translate}}"
                        type="success" (onClick)="onApplicationSelection()">
                    </dx-button>
                </div>

            </form>
        </dx-scroll-view>
    </div>
</dx-popup>


<dx-popup class="popup" [width]=450 [height]=150 [showTitle]="true" title="Invoice Printing and Submission"
    [dragEnabled]="false" [hideOnOutsideClick]="false" [(visible)]="win_submitinvoicepayments">
    <div *dxTemplate="let data of 'content'">
        <dx-scroll-view>


        </dx-scroll-view>
    </div>
</dx-popup>